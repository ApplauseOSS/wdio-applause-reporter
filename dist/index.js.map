{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["import WDIOReporter from '@wdio/reporter';\nimport { ApplauseReporter, TestResultStatus, loadConfig, } from 'applause-reporter-common';\nexport class ApplauseWdioReporter extends WDIOReporter {\n    reporter;\n    constructor(options) {\n        super({ stdout: true, ...options });\n        const config = loadConfig({\n            properties: options,\n        });\n        // Setup the initial maps\n        this.reporter = new ApplauseReporter(config);\n    }\n    onRunnerStart() {\n        this.reporter.runnerStart();\n    }\n    onTestStart(testStats) {\n        this.reporter.startTestCase(testStats.uid, testStats.fullTitle, {\n            providerSessionIds: [browser.sessionId],\n        });\n    }\n    onTestPass(test) {\n        this.reporter.submitTestCaseResult(test.uid, TestResultStatus.PASSED);\n    }\n    onTestFail(test) {\n        this.reporter.submitTestCaseResult(test.uid, TestResultStatus.FAILED, {\n            failureReason: test.error?.message,\n        });\n    }\n    onTestRetry(test) {\n        this.reporter.submitTestCaseResult(test.uid, TestResultStatus.SKIPPED, {\n            failureReason: test.error?.message,\n        });\n    }\n    onTestSkip(test) {\n        this.reporter.submitTestCaseResult(test.uid, TestResultStatus.SKIPPED, {\n            failureReason: test.error?.message,\n        });\n    }\n    async onRunnerEnd() {\n        await this.reporter.runnerEnd();\n    }\n    get isSynchronised() {\n        return this.reporter.isSynchronized();\n    }\n}\n//# sourceMappingURL=index.js.map"],"names":["loadConfig","ApplauseReporter","TestResultStatus"],"mappings":";;;;;AAEO,MAAM,oBAAoB,SAAS,YAAY,CAAC;AACvD,IAAI,QAAQ,CAAC;AACb,IAAI,WAAW,CAAC,OAAO,EAAE;AACzB,QAAQ,KAAK,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE,CAAC,CAAC;AAC5C,QAAQ,MAAM,MAAM,GAAGA,iCAAU,CAAC;AAClC,YAAY,UAAU,EAAE,OAAO;AAC/B,SAAS,CAAC,CAAC;AACX;AACA,QAAQ,IAAI,CAAC,QAAQ,GAAG,IAAIC,uCAAgB,CAAC,MAAM,CAAC,CAAC;AACrD,KAAK;AACL,IAAI,aAAa,GAAG;AACpB,QAAQ,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;AACpC,KAAK;AACL,IAAI,WAAW,CAAC,SAAS,EAAE;AAC3B,QAAQ,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,EAAE,SAAS,CAAC,SAAS,EAAE;AACxE,YAAY,kBAAkB,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC;AACnD,SAAS,CAAC,CAAC;AACX,KAAK;AACL,IAAI,UAAU,CAAC,IAAI,EAAE;AACrB,QAAQ,IAAI,CAAC,QAAQ,CAAC,oBAAoB,CAAC,IAAI,CAAC,GAAG,EAAEC,uCAAgB,CAAC,MAAM,CAAC,CAAC;AAC9E,KAAK;AACL,IAAI,UAAU,CAAC,IAAI,EAAE;AACrB,QAAQ,IAAI,CAAC,QAAQ,CAAC,oBAAoB,CAAC,IAAI,CAAC,GAAG,EAAEA,uCAAgB,CAAC,MAAM,EAAE;AAC9E,YAAY,aAAa,EAAE,IAAI,CAAC,KAAK,EAAE,OAAO;AAC9C,SAAS,CAAC,CAAC;AACX,KAAK;AACL,IAAI,WAAW,CAAC,IAAI,EAAE;AACtB,QAAQ,IAAI,CAAC,QAAQ,CAAC,oBAAoB,CAAC,IAAI,CAAC,GAAG,EAAEA,uCAAgB,CAAC,OAAO,EAAE;AAC/E,YAAY,aAAa,EAAE,IAAI,CAAC,KAAK,EAAE,OAAO;AAC9C,SAAS,CAAC,CAAC;AACX,KAAK;AACL,IAAI,UAAU,CAAC,IAAI,EAAE;AACrB,QAAQ,IAAI,CAAC,QAAQ,CAAC,oBAAoB,CAAC,IAAI,CAAC,GAAG,EAAEA,uCAAgB,CAAC,OAAO,EAAE;AAC/E,YAAY,aAAa,EAAE,IAAI,CAAC,KAAK,EAAE,OAAO;AAC9C,SAAS,CAAC,CAAC;AACX,KAAK;AACL,IAAI,MAAM,WAAW,GAAG;AACxB,QAAQ,MAAM,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;AACxC,KAAK;AACL,IAAI,IAAI,cAAc,GAAG;AACzB,QAAQ,OAAO,IAAI,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC;AAC9C,KAAK;AACL;;;;"}